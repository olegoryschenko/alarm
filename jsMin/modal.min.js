import{stoppedAlarm as e}from"./alarm.min.js";export const createModal=(e,t,l)=>{let o=`
    <div class="modal" style="width: ${e+"px"}">
    <div class="modal__block">
        <div class="modal__content">
            <div class="modal__header">
                <h2 class="modal__header-title">${t||"Without Name"}</h2>
                <div class="modal__btn-close">&times;</div>
            </div>

            <div class="modal__body">
                <div class="modal__block-content">
                    <input id="inputTimeAlarm" type="time" value="00:00">
                    </div>
            </div>
            <div class="modal__footer">
                <button class="modal__btn-footer-close">${l||"Button"}</button>
                <p class="timeForAlarm"> <span class="hours"> <span>Hours</span></span> <span class="minutes"> <span>Minutes</span></span></p>
            </div>
        </div>
    </div>
</div>
    `;document.querySelector(".body__app").insertAdjacentHTML("beforeend",o)};let optionsModal={width:300,title:"Alarm",buttonText:"Okay"},btnAddAlarm=document.querySelector(".footer__add-alarm"),whatsTimeTowordsAlarm;btnAddAlarm.addEventListener("click",()=>{createModal(optionsModal.width,optionsModal.title,optionsModal.buttonText),btnAddAlarm.setAttribute("disabled",""),setTimeout(()=>{document.querySelector(".modal").classList.add("open"),document.querySelector(".modal__background").classList.add("open")},100),closedModal(),whatsTimeTowordsAlarm=setInterval(()=>{let e=document.querySelector("#inputTimeAlarm");e.value.slice(0,2),e.value.slice(3),countWhatTimeTowardsAlarm()},1e3)});export const closedModal=()=>{document.querySelector(".modal__btn-footer-close").addEventListener("click",e=>{let t=document.getElementById("inputTimeAlarm"),l=t.value,o="AM";Number.parseFloat(l)>11&&(o="PM"),createAlaramElements("None",l,o);let a=document.querySelectorAll(".alarm__block");a.length>0&&document.querySelector(".emptyAlarm").setAttribute("style","display: none;"),a.forEach(e=>{setTimeout(()=>{e.classList.remove("barrelRoll")},2e3)}),removeModal()}),document.querySelector(".modal__background").addEventListener("click",removeModal),document.querySelector(".modal__btn-close").addEventListener("click",removeModal)};let removeModal=()=>{e(),clearInterval(whatsTimeTowordsAlarm),document.querySelector(".footer__app").removeAttribute("style","z-index: -1"),document.querySelector(".modal").classList.remove("open"),document.querySelector(".modal__background").classList.remove("open"),event.target.closest(".alarm__block"),document.querySelectorAll(".alarm__block").forEach(e=>{e&&e.classList.remove("active")}),document.querySelectorAll(".checkAlarmInput").forEach(e=>{e.checked=!1}),deleteModal()},deleteModal=()=>{btnAddAlarm.removeAttribute("disabled");let e=document.querySelector(".modal");setTimeout(()=>{e.remove()},100)},countWhatTimeTowardsAlarm=()=>{let e=document.getElementById("inputTimeAlarm"),t=e.value.split(":").map(Number),l=document.querySelector(".hours"),o=document.querySelector(".minutes"),a=new Date,r=a.getHours()-1,s=a.getMinutes(),d=t[0]-r,i=t[1]-s;d<0&&(d+=24),i<0&&(i+=60,d--),l.innerHTML=d+" Hours",o.innerHTML=i+" Minutes"};